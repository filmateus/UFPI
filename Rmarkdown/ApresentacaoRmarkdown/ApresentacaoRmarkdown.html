<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Conhecendo Rmarkdown</title>
    <meta charset="utf-8" />
    <meta name="author" content="Curso de Extensão em R" />
    <script src="ApresentacaoRmarkdown_files/header-attrs/header-attrs.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Conhecendo Rmarkdown
]
.author[
### Curso de Extensão em R
]
.date[
### 07 July,2022
]

---






# Introdução

## O que é o R?

- R é um ambiente de software livre para computação estatística e gráficos.

- fornece uma ampla variedade de técnicas estatísticas (modelagem linear e não linear, testes estatísticos clássicos, análise de séries temporais, classificação, agrupamento, …) e gráficas, e é altamente extensível


&lt;img src="https://www.r-project.org/Rlogo.png" width="30%" style="display: block; margin: auto;" /&gt;

---

# O que é o R Markdown

.pull-left[
&lt;img src="https://bookdown.org/yihui/rmarkdown/images/hex-rmarkdown.png" width="70%" style="display: block; margin: auto;" /&gt;

]

.pull-right[

- O R Markdown foi desenvolvido em 2004 por John Gruber e Aaron Swartz para simplificar a estruturação de um texto.

- É uma ferramenta para transformar suas análises em documentos, relatórios, apresentações e dashboards de alta qualidade e de maneira programática;

- Facilita a reprodução de resultados, visto que tanto código quanto narrativa estão no documento, e os resultados são gerados do código presente no documento.

- O R Markdown suporta  formatos cpmo HTML, PDF, MS Word, Beamer, slides HTML5, estilo Tufte, livros, dashboards, aplicativos, artigos científicos, sites, etc.

]
---
name: colors

# O que é o R Markdown

## Usando o Rmarkdown podemos facilmente formatar

- textos em **negrito** e *itálico*

- listas

- cabeçalhos (títulos, sub-títulos etc...)

- [hyperlinks](https://media.giphy.com/media/LKf4i5Tvt7mE0/giphy.gif)

- gráficos e tabelas

- equações matemáticas - `\(\infty\)`

- etc...


---


```r
knitr::include_graphics('https://beatrizmilz.github.io/RStudio_Certification/img/concept_map2.png')
```

&lt;img src="https://beatrizmilz.github.io/RStudio_Certification/img/concept_map2.png" width="100%" style="display: block; margin: auto;" /&gt;

---

# Gerando arquivo em PDF

.left-column[

&lt;img src="https://play-lh.googleusercontent.com/kIwlXqs28otssKK_9AKwdkB6gouex_U2WmtLshTACnwIJuvOqVvJEzewpzuYBXwXQQ" width="90%" style="display: block; margin: auto;" /&gt;

]

.right-column[

  - Para compilar um documento R Markdown em PDF, basta instalar o pacote Tinytex.


```r
install.packages('tinytex', dependencies = TRUE)
tinytex::install_tinytex()
```

O `TinyTeX` é uma distribuição LaTeX personalizada baseada no TeX Live que é pequeno em tamanho (cerca de 61 MB no macOS / Linux e 94 MB no Windows quando (g) compactado), mas funciona bem na maioria dos casos, especialmente para usuários R.

]
---

# Formatação de texto

 - Os principais tipos de formatação de texto em Markdown e suas respectivas
sintaxes são:

- Textos em *itálico*: são produzidos com um par de asteriscos: ∗Itálico∗

-  Textos em **negrito** são produzidos com dois pares de asteriscos: ∗∗Negrito∗∗

-  Um par de acentos til produz texto subscrito: CO ∼ 2 ∼ vira CO~2
  - Outro forma é usando o formato usando $ CO_{2} $ , `\(CO_{2}\)`


- Um par de acentos circunflexos produz texto sobrescrito x^ 2^, vira x^2^.
  - Outro forma é usando o formato usando $ x^{2} $, `\(x^{2}\)` 

- Hyperlinks são criados com a sintaxe [texto] (link)

---

# Cabeçalhos

Cabeçalhos de capítulos (seções) e subcapítulos são criadas de maneira hierárquica, de acordo com a quantidade de jogos-da-velha(hashtags) usados. Quanto maior o número, menor a hierarquia

# # 1º Nível
## ## 2º Nível
### ### 3º nível
#### #### 4º Nível
##### ##### 5º Nível 
###### ###### 6º Nível  

---

# Listas

#### Para adicionar listas é necessario ultilizar um * ou - e espaço antes da palavra.

- `-` Primeira coisa

* `*` Primeira coisa. Igual, mas diferente    

--

#### Lista com subitens: Para lista com subitem após dar enter é necessário dar quatro espaços ou `tab`.

- Segunda coisa
  - Uma coisa dentro da coisa
  - Outra coisa dentro da coisa

--

#### Lista Ordenada

1. 1ª coisa
2. 2ª coisa
3. 3ª coisa
  1.  uma coisa dentro da coisa 3

---

# Paragráfo

Se você escrever uma coisa e der enter, ele faz tudo como se fosse um mesmo
parágrafo.

Para ter um novo parágrafo, sempre salte uma linha.

Aliás, se você der enter um monte de vezes, ele salta apenas uma linha!

O certo é:


```r
Algo mais ou menos

\

Uma linha foi acrescentada
```


Para separar utilizando uma linha na horizontal basta acrescentar três asteriscos, ***.



```r
Algo mais ou menos

***

Uma linha foi acrescentada
```


---
# Chunks

&lt;img src="Captura de Tela (156).png" width="100%" style="display: block; margin: auto;" /&gt;

Os códigos são embutidos no texto por meio das CodeChunks.

Já o texto é inserido normalmente em forma de parágrafos fora dos Chunks sendo que precisa dar um "enter"entre os textos e os chunks. 

Podemos personalizar as saídas dos chunks usando os codigos:

--
- **include = FALSE** -  Impede que o código e os resultados apareçam no arquivo acabado.

--
- **echo = FALSE** - Impede o código, mas não os resultados de aparecer no arquivo acabado.

--
- **message= FALSE** - Impede que mensagens geradas por código apareçam no arquivo acabado.

--
- **warning= FALSE** - Impede que avisos gerados pelo código apareçam no acabamento.

--
- **Fig.cap = "..."** - Adiciona uma legenda aos resultados gráficos.

---

# Chunks

Caso você deseje que uma opção seja definida da mesma maneira para todos os chunks do documento, como para definir um tamanho padrão
para os gráficos, ou impedi que os códigos apareçam no trabalho você pode criar um Chunks Global, é só adicionar no início do documento o
argumento:

### Exemplo de Configução global

**Da apresentação**

&lt;img src="Captura de Tela (157).png" width="100%" style="display: block; margin: auto;" /&gt;
---

# Inserindo Imagens

**Há duas formas de inserir Imagens**

- A primeira forma que vamos abordar é o utilizando o seguinte código:


```r
![](c:/endereço da imagem/nome.formato)
```

**O segundo código para adicionar figura que vamos mostrar é mais completo, pois ele alterar automaticamente o comando com base no formato de saída (HTML, PDF, WORD), as imagens nas saídas permanecem em alta resolução, ele também tem a opção de:**

- Alinhar(fig.align)

- Porcentagem de largura da página (out.width)

- Tamanho em pixels (out.width)

- Legenda (fig.cap) etc...



```r
knitr::include_graphics("diretorio/nome da imagem.formato")
```

---

# Inserindo Imagens

.pull-left[


```r
!['meme'](https://i.guim.co.uk/img/media/9fef7d73f3df638b16318a135ec3459932437fb5/0_480_2402_1441/master/2402.jpg?width=1020&amp;quality=45&amp;auto=format&amp;fit=max&amp;dpr=2&amp;s=80bcb579b3e1f6d8c9a93c9eb5b9d6a4)
```

!['meme'](https://i.guim.co.uk/img/media/9fef7d73f3df638b16318a135ec3459932437fb5/0_480_2402_1441/master/2402.jpg?width=1020&amp;quality=45&amp;auto=format&amp;fit=max&amp;dpr=2&amp;s=80bcb579b3e1f6d8c9a93c9eb5b9d6a4)
]

.pull-right[

```r
knitr::include_graphics("Screenshot.png")
```

&lt;img src="Screenshot.png" width="70%" style="display: block; margin: auto;" /&gt;

]

---

# Gifs


```r
knitr::include_graphics("https://media.giphy.com/media/HLB0nLA36GCCo6JuB5/giphy.gif")
```

&lt;img src="https://media.giphy.com/media/HLB0nLA36GCCo6JuB5/giphy.gif" width="40%" style="display: block; margin: auto;" /&gt;

---
#Formulas e Equações

Existem duas maneiras de escrever formulas e equações no Rmarkdown, são esses formatos o inline e na forma de blocos. Vamos mostrar aqui somente o de bloco, é bem simples sua utilização você só precisa adicionar no começo e no final da sua formula ou equação, o simbolo de dois cifrão `$`

- **Formulas**


```r
$$
f(x) = \frac{1}{\sigma \sqrt{2 \pi}}e^{-\frac{1}{2}(\frac{x-u}{\sigma})^{2}}
$$
```
--
- **Saída**

$$
f(x) = \frac{1}{\sigma \sqrt{2 \pi}}e^{-\frac{1}{2}(\frac{x-u}{\sigma})^{2}}
$$


- *link*: https://www.codecogs.com/latex/eqneditor.php?lang=pt-br
---

# Formulas e Equações


```r
$$
f(k) = {n \choose k} p^{k} (1-p)^{n-k}
$$
```

$$
f(k) = {n \choose k} p^{k} (1-p)^{n-k}
$$



```r
$$
\begin{array}{ccc}
x_{11} &amp; x_{13} &amp; x_{13}\\
x_{21} &amp; x_{22} &amp; x_{23}
\end{array}
$$
```

`$$\begin{array}{ccc}
x_{11} &amp; x_{13} &amp; x_{13}\\
x_{21} &amp; x_{22} &amp; x_{23}
\end{array}$$`

---

# Gráficos

Geramos gráficos nos chunks. As configurações dos gráficos são as mesma aprendidas nas imagens.  
Como exemplo vamos expor um gráfico gerado com o pacote GGPlot2, o banco de dados usado sera o `diamonds`, ele é um conjunto de dados contendo os preços e outros atributos de quase 54.000 diamantes;  
Para gerar nosso gráfico vamos escolher aleatoriamente 200 observações e duas  variáveis que são o preço e o quilates.

- Código do gráfico


```r
diamonds %&gt;% 
sample_n(200)|&gt;
ggplot()+
aes(x = carat, y = price)+
geom_point(alpha = 1, colour = "#FF961C")+
theme_minimal()
```
---

# Gráficos

- Saída

&lt;img src="ApresentacaoRmarkdown_files/figure-html/unnamed-chunk-19-1.png" width="100%" style="display: block; margin: auto;" /&gt;

---

# Sumário e Tema

Para incluir o sumário basta adicionar toc : yes logo após , para que a tabela com os conteúdos do sumário esteja na lateral é só adicionar `toc float: TRUE`.

Você pode escolher um tema para seu documento usando theme: flatly, mas há várias opções de tema onde há modificações na cor e formato das palavras, tem temas sem pacotes e com pacotes alguns exemplos você encontra no site: 
  
- https://www.datadreaming.org/post/r-markdown-theme-gallery/


Caso queira adicionar automaticamente a numeração dos títulos e subtítulos você pode usar number `sections: TRUE`, você também pode mudar a cor dos códigos para facilitar a visualização basta adicionar `highlight: tango`, há também vários outros tipos de cor para os códigos, você encontra alguns modelos no site:

- https://eranraviv.com/syntax-highlighting-style-in-rmarkdown/

- https://www.rstudio.com/resources/cheatsheets/

---

## Referências

- GOMES, Fellipe. Tabelas Incriveis com RDisponível em: https://gomesfellipe.github.io/post/2018-01-12-tabelas-incriveis-com-r/abelas-incriveis-com-r/, 2018. Acesso em: 24 de mai de 2021
  
- GONZAGA, Sillas. Introdução a R para Visualização e Apresentação de Dados.,2018. Diponívelem: http://sillasgonzaga.com/material/curso_visualizacao/apresentacao-de-dados-com-relatorios.html. Acesso em: 19 de maio de 2021

- MAYER, Fernando. Rmarkdown-rautu, 2015. Disponível em:http://www.leg.ufpr.br/~fernandomayer/palestra/useR-2015/Rmarkdown-rautu.html. Acesso em: 20 de maio de 2021

- MILZ, Beatriz. Adicionando números em R Markdown, 2020. Disponível em: https://beatrizmilz.github.io/RStudio_Certification/slides.html?panelset2=default#7. Acesso em:05 de jun de 2021

- OSWALDO. Rmarkdown,2017. Disponível em: https://gitlab.procc.fiocruz.br/oswaldo/DS_2017/blob/153495ccebb0b66766b79c695bd01a38ae0dda47/markdown/markdown.md. Acesso em: 08 de jun de 2021

---
## Referências


- PERES, Fernanda. R Markdown: Gerando relatórios usando o R (Parte 4), 2020. Disponível em: https://www.youtube.com/watch?v=177TA5Gyse4&amp;t=679s. Acesso em: 10 de ago de 2021

- QA STACK. Inserir imagem / tabela no R Markdown. Disponível em: https://qastack.com.br/programming/25166624/insert-picture-table-in-r-markdown. Acesso em: 05 de jun de 2021

- TI-ENXAME.COM Programaticamente criando tabelas Markdown em R com KnitR,2013. Disponível em: https://www.ti-enxame.com/pt/r/programaticamente-criando-tabelas-markdown-em-r-com-knitr/1072764238/. Acesso em 01 de jun de 2021

- XIE, Yihui; ALLAIRE, Joseph J.; GROLEMUND, Garrett. R Markdown: O Guia Definitivo, 2021. Disponível em: https://bookdown.org/yihui/rmarkdown/markdown-syntax.html. Acesso em: 08 de jun de 2021
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "%current%",
"highlightStyle": "github",
"highlightLines": true,
"ratio": "16:9",
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
